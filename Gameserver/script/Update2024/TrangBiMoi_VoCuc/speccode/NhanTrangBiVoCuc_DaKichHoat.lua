local tbItem = Item:GetClass("NhanTrangBiVoCuc_DaKichHoat");

tbItem.TaskGroup_KichHoatVoCuc = 4200;	--KÍCH HOẠT VÔ CỰC
tbItem.TaskId_KichHoatVoCuc = 1;		--KÍCH HOẠT VÔ CỰC
tbItem.YeuCau = 1;

tbItem.Nam_Kim = 
{
{4,9,3000,10,5,16};--Nón Cấp 1- Nam - Thổ
{4,3,3000,10,4,16};--Áo Cấp 1- Nam - Thổ
{4,8,3000,10,2,16};--Lưng Cấp 1- Nam - Thổ
{4,7,3000,10,3,16};--Tay Cấp 1- Nam - Thổ
{4,10,3000,10,1,16};--Giày Cấp 1- Nam - Thổ
{4,5,3000,10,4,16};--Liên Cấp 1- Nam - Thổ
{4,4,3000,10,2,16};--Nhẫn Cấp 1- Nam - Thổ
{4,11,3000,10,3,16};--Bội Cấp 1- Nam - Thổ
{4,6,3000,10,1,16};--Phù Cấp 1- Nam - Thổ
}
tbItem.Nu_Kim = 
{
{4,9,3001,10,5,16};--Nón Cấp 1- Nữ - Thổ
{4,3,3001,10,4,16};--Áo Cấp 1- Nữ - Thổ
{4,8,3001,10,2,16};--Lưng Cấp 1- Nữ - Thổ
{4,10,3001,10,3,16};--Tay Cấp 1- Nữ - Thổ
{4,7,3001,10,1,16};--Giày Cấp 1- Nữ - Thổ
{4,5,3001,10,4,16};--Liên Cấp 1- Nữ - Thổ
{4,4,3001,10,2,16};--Nhẫn Cấp 1- Nữ - Thổ
{4,11,3001,10,3,16};--Bội Cấp 1- Nữ - Thổ
{4,6,3001,10,1,16};--Phù Cấp 1- Nữ - Thổ
}
tbItem.Nam_Moc = 
{
{4,9,3002,10,5,16};--Nón Cấp 1- Nam - Mộc
{4,3,3002,10,4,16};--Áo Cấp 1- Nam - Mộc
{4,8,3002,10,2,16};--Lưng Cấp 1- Nam - Mộc
{4,10,3002,10,3,16};--Tay Cấp 1- Nam - Mộc
{4,7,3002,10,1,16};--Giày Cấp 1- Nam - Mộc
{4,5,3002,10,4,16};--Liên Cấp 1- Nam - Mộc
{4,4,3002,10,2,16};--Nhẫn Cấp 1- Nam - Mộc
{4,11,3002,10,3,16};--Bội Cấp 1- Nam - Mộc
{4,6,3002,10,1,16};--Phù Cấp 1- Nam - Mộc
}
tbItem.Nu_Moc = 
{
{4,9,3003,10,5,16};--Nón Cấp 1- Nữ - Mộc
{4,3,3003,10,4,16};--Áo Cấp 1- Nữ - Mộc
{4,8,3003,10,2,16};--Lưng Cấp 1- Nữ - Mộc
{4,10,3003,10,3,16};--Tay Cấp 1- Nữ - Mộc
{4,7,3003,10,1,16};--Giày Cấp 1- Nữ - Mộc
{4,5,3003,10,4,16};--Liên Cấp 1- Nữ - Mộc
{4,4,3003,10,2,16};--Nhẫn Cấp 1- Nữ - Mộc
{4,11,3003,10,3,16};--Bội Cấp 1- Nữ - Mộc
{4,6,3003,10,1,16};--Phù Cấp 1- Nữ - Mộc
}
tbItem.Nam_Thuy = 
{
{4,9,3004,10,3,16};--Nón Cấp 1- Nam - Thủy
{4,3,3004,10,1,16};--Áo Cấp 1- Nam - Thủy
{4,8,3004,10,5,16};--Lưng Cấp 1- Nam - Thủy
{4,10,3004,10,4,16};--Tay Cấp 1- Nam - Thủy
{4,7,3004,10,2,16};--Giày Cấp 1- Nam - Thủy
{4,5,3004,10,1,16};--Liên Cấp 1- Nam - Thủy
{4,4,3004,10,5,16};--Nhẫn Cấp 1- Nam - Thủy
{4,11,3004,10,4,16};--Bội Cấp 1- Nam - Thủy
{4,6,3004,10,2,16};--Phù Cấp 1- Nam - Thủy
}
tbItem.Nu_Thuy = 
{
{4,9,3005,10,3,16};--Nón Cấp 1- Nữ - Thủy
{4,3,3005,10,1,16};--Áo Cấp 1- Nữ - Thủy
{4,8,3005,10,5,16};--Lưng Cấp 1- Nữ - Thủy
{4,10,3005,10,4,16};--Tay Cấp 1- Nữ - Thủy
{4,7,3005,10,2,16};--Giày Cấp 1- Nữ - Thủy
{4,5,3005,10,1,16};--Liên Cấp 1- Nữ - Thủy
{4,4,3005,10,5,16};--Nhẫn Cấp 1- Nữ - Thủy
{4,11,3005,10,4,16};--Bội Cấp 1- Nữ - Thủy
{4,6,3005,10,2,16};--Phù Cấp 1- Nữ - Thủy
}
tbItem.Nam_Hoa = 
{
{4,9,3006,10,4,16};--Nón Cấp 1- Nam - Hỏa
{4,3,3006,10,2,16};--Áo Cấp 1- Nam - Hỏa
{4,8,3006,10,3,16};--Lưng Cấp 1- Nam - Hỏa
{4,10,3006,10,1,16};--Tay Cấp 1- Nam - Hỏa
{4,7,3006,10,5,16};--Giày Cấp 1- Nam - Hỏa
{4,5,3006,10,2,16};--Liên Cấp 1- Nam - Hỏa
{4,4,3006,10,3,16};--Nhẫn Cấp 1- Nam - Hỏa
{4,11,3006,10,1,16};--Bội Cấp 1- Nam - Hỏa
{4,6,3006,10,5,16};--Phù Cấp 1- Nam - Hỏa
}
tbItem.Nu_Hoa = 
{
{4,9,3007,10,4,16};--Nón Cấp 1- Nữ - Hỏa
{4,3,3007,10,2,16};--Áo Cấp 1- Nữ - Hỏa
{4,8,3007,10,3,16};--Lưng Cấp 1- Nữ - Hỏa
{4,10,3007,10,1,16};--Tay Cấp 1- Nữ - Hỏa
{4,7,3007,10,5,16};--Giày Cấp 1- Nữ - Hỏa
{4,5,3007,10,2,16};--Liên Cấp 1- Nữ - Hỏa
{4,4,3007,10,3,16};--Nhẫn Cấp 1- Nữ - Hỏa
{4,11,3007,10,1,16};--Bội Cấp 1- Nữ - Hỏa
{4,6,3007,10,5,16};--Phù Cấp 1- Nữ - Hỏa
}
tbItem.Nam_Tho = 
{
{4,9,3008,10,5,16};--Nón Cấp 1- Nam - Thổ
{4,3,3008,10,4,16};--Áo Cấp 1- Nam - Thổ
{4,8,3008,10,2,16};--Lưng Cấp 1- Nam - Thổ
{4,10,3008,10,3,16};--Tay Cấp 1- Nam - Thổ
{4,7,3008,10,1,16};--Giày Cấp 1- Nam - Thổ
{4,5,3008,10,4,16};--Liên Cấp 1- Nam - Thổ
{4,4,3008,10,2,16};--Nhẫn Cấp 1- Nam - Thổ
{4,11,3008,10,3,16};--Bội Cấp 1- Nam - Thổ
{4,6,3008,10,1,16};--Phù Cấp 1- Nam - Thổ
}
tbItem.Nu_Tho = 
{
{4,9,3009,10,5,16};--Nón Cấp 1- Nữ - Thổ
{4,3,3009,10,4,16};--Áo Cấp 1- Nữ - Thổ
{4,8,3009,10,2,16};--Lưng Cấp 1- Nữ - Thổ
{4,10,3009,10,3,16};--Tay Cấp 1- Nữ - Thổ
{4,7,3009,10,1,16};--Giày Cấp 1- Nữ - Thổ
{4,5,3009,10,4,16};--Liên Cấp 1- Nữ - Thổ
{4,4,3009,10,2,16};--Nhẫn Cấp 1- Nữ - Thổ
{4,11,3009,10,3,16};--Bội Cấp 1- Nữ - Thổ
{4,6,3009,10,1,16};--Phù Cấp 1- Nữ - Thổ
}


function tbItem:OnUse()
local KichHoatVoCuc = me.GetTask(self.TaskGroup_KichHoatVoCuc, self.TaskId_KichHoatVoCuc);
local szMsg = "<color=yellow>Sử dụng tính năng cần Kích Hoạt Vô Cực.\nTiến trình Kích hoạt của ngươi là "..KichHoatVoCuc.."/1<color>\n<color=blue>Hãy chọn loại Trang bị ngươi cần:<color>";
local tbOpt = {
{"<color=yellow>Nhận Trang bị Vô Cực - Kim Sơ Thành", self.SoThanh_Kim, self},
{"<color=green>Nhận Trang bị Vô Cực - Mộc Sơ Thành", self.SoThanh_Moc, self},
{"<color=cyan>Nhận Trang bị Vô Cực - Thủy Sơ Thành", self.SoThanh_Thuy, self},
{"<color=red>Nhận Trang bị Vô Cực - Hỏa Sơ Thành", self.SoThanh_Hoa, self},
{"<color=gray>Nhận Trang bị Vô Cực - Thổ Sơ Thành", self.SoThanh_Tho, self},
};
Dialog:Say(szMsg, tbOpt);
end




function tbItem:SoThanh_Kim()
local KichHoatVoCuc = me.GetTask(self.TaskGroup_KichHoatVoCuc, self.TaskId_KichHoatVoCuc);
if KichHoatVoCuc < self.YeuCau then
me.CallClientScript({"UiManager:OpenWindow","UI_INFOBOARD","<color=yellow>Sử dụng tính năng cần Kích Hoạt Vô Cực.\nTiến trình Kích hoạt của ngươi là "..KichHoatVoCuc.."/1<color>"});
return 0;
end	

local tbItem_Nam = self.Nam_Kim;
local tbItem_Nu = self.Nu_Kim;


if (me.nSex == 0) then --Nam
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nam[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

if (me.nSex == 1) then --Nữ 
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nu[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

end

function tbItem:SoThanh_Moc()
local KichHoatVoCuc = me.GetTask(self.TaskGroup_KichHoatVoCuc, self.TaskId_KichHoatVoCuc);
if KichHoatVoCuc < self.YeuCau then
me.CallClientScript({"UiManager:OpenWindow","UI_INFOBOARD","<color=yellow>Sử dụng tính năng cần Kích Hoạt Vô Cực.\nTiến trình Kích hoạt của ngươi là "..KichHoatVoCuc.."/1<color>"});
return 0;
end	

local tbItem_Nam = self.Nam_Moc;
local tbItem_Nu = self.Nu_Moc;


if (me.nSex == 0) then --Nam
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nam[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

if (me.nSex == 1) then --Nữ 
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nu[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

end


function tbItem:SoThanh_Thuy()
local KichHoatVoCuc = me.GetTask(self.TaskGroup_KichHoatVoCuc, self.TaskId_KichHoatVoCuc);
if KichHoatVoCuc < self.YeuCau then
me.CallClientScript({"UiManager:OpenWindow","UI_INFOBOARD","<color=yellow>Sử dụng tính năng cần Kích Hoạt Vô Cực.\nTiến trình Kích hoạt của ngươi là "..KichHoatVoCuc.."/1<color>"});
return 0;
end	

local tbItem_Nam = self.Nam_Thuy;
local tbItem_Nu = self.Nu_Thuy;


if (me.nSex == 0) then --Nam
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nam[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

if (me.nSex == 1) then --Nữ 
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nu[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

end

function tbItem:SoThanh_Hoa()
local KichHoatVoCuc = me.GetTask(self.TaskGroup_KichHoatVoCuc, self.TaskId_KichHoatVoCuc);
if KichHoatVoCuc < self.YeuCau then
me.CallClientScript({"UiManager:OpenWindow","UI_INFOBOARD","<color=yellow>Sử dụng tính năng cần Kích Hoạt Vô Cực.\nTiến trình Kích hoạt của ngươi là "..KichHoatVoCuc.."/1<color>"});
return 0;
end	

local tbItem_Nam = self.Nam_Hoa;
local tbItem_Nu = self.Nu_Hoa;


if (me.nSex == 0) then --Nam
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nam[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

if (me.nSex == 1) then --Nữ 
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nu[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

end

function tbItem:SoThanh_Tho()
local KichHoatVoCuc = me.GetTask(self.TaskGroup_KichHoatVoCuc, self.TaskId_KichHoatVoCuc);
if KichHoatVoCuc < self.YeuCau then
me.CallClientScript({"UiManager:OpenWindow","UI_INFOBOARD","<color=yellow>Sử dụng tính năng cần Kích Hoạt Vô Cực.\nTiến trình Kích hoạt của ngươi là "..KichHoatVoCuc.."/1<color>"});
return 0;
end	

local tbItem_Nam = self.Nam_Tho;
local tbItem_Nu = self.Nu_Tho;


if (me.nSex == 0) then --Nam
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nam[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

if (me.nSex == 1) then --Nữ 
for i = 1,9 do
local pItem =me.AddItem(unpack(tbItem_Nu[i]));
pItem.Bind(1);
local szMsg = "<color=yellow><color=pink>"..me.szName.."<color> nhận thành công Trang bị Vô Cực:\n<color=cyan>"..pItem.szName.."<color><color>";
KDialog.NewsMsg(0, Env.NEWSMSG_COUNT, szMsg);
KDialog.MsgToGlobal(szMsg);
end
end 

end
